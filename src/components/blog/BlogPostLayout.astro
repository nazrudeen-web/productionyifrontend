---
import { Card, CardContent } from "@/components/ui/card";
import { Badge } from "@/components/ui/badge";
import { Calendar, User, Clock } from "lucide-react";
import ChannelShare from "../channel-page/ChannelShare.astro";

const { frontmatter } = Astro.props;
const {
  title,
  author,
  pubDate,
  description,
  category = "Blog",
  readTime = "6 min read",
  image = null,
} = frontmatter;
---

<article class="space-y-8">
  <!-- Breadcrumb -->
  <nav class="text-sm text-slate-500">
    <a href="/blog" class="hover:text-red-600">Blog</a>
    <span class="mx-2">/</span>
    <span>{category}</span>
  </nav>

  <!-- Header -->
  <header class="space-y-6">
    <div class="space-y-4">
      <Badge variant="secondary" className="bg-red-100 text-red-700">
        {category}
      </Badge>
      <h1 class="text-3xl md:text-4xl font-bold text-slate-900 leading-tight">
        {title}
      </h1>
    </div>

    <div class="flex items-center gap-6 text-sm text-slate-600">
      <div class="flex items-center gap-2">
        <User className="w-4 h-4" />
        <span>{author}</span>
      </div>
      <div class="flex items-center gap-2">
        <Calendar className="w-4 h-4" />
        <span>
          {
            new Date(pubDate).toLocaleDateString("en-US", {
              year: "numeric",
              month: "short",
              day: "numeric",
            })
          }
        </span>
      </div>
      <div class="flex items-center gap-2">
        <Clock className="w-4 h-4" />
        <span>{readTime}</span>
      </div>
    </div>

    <div class="flex items-center gap-3">
      <ChannelShare shareText={`Check out`} />
    </div>
  </header>

  <!-- Featured Image -->
  {
    image && (
      <div class="aspect-video overflow-hidden rounded-lg">
        <img src={image} alt={title} class="w-full h-full object-cover" />
      </div>
    )
  }

  <!-- Content -->
  <Card>
    <CardContent className="py-8 px-3 md:px-6 text-base">
      <div class="prose prose-slate max-w-none text-base">
        <slot />
      </div>
    </CardContent>
  </Card>

  <!-- Author Bio -->
  <Card>
    <CardContent className="p-6">
      <div class="flex items-start gap-4">
        <div
          class="w-16 h-16 bg-slate-200 rounded-full flex items-center justify-center"
        >
          <User className="w-8 h-8 text-slate-500" />
        </div>
        <div class="flex-1">
          <h3 class="font-semibold text-slate-900 mb-1">{author}</h3>
          <p class="text-sm text-slate-600 mb-3">
            Passionate writer sharing insights on YouTube growth, income, and
            creator economy.
          </p>
          <div class="flex gap-2">
            <Badge variant="outline" className="text-xs">YouTube Expert</Badge>
            <Badge variant="outline" className="text-xs">Blogger</Badge>
          </div>
        </div>
      </div>
    </CardContent>
  </Card>
</article>
